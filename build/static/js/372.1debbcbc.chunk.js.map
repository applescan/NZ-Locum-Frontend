{"version":3,"file":"static/js/372.1debbcbc.chunk.js","mappings":"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","sources":["components/elements/Modal.jsx","components/pages/DoctorProfile.jsx"],"sourcesContent":["import React from \"react\";\r\nimport { Modal } from \"react-bootstrap\";\r\nimport ButtonBlueOutlined from \"./ButtonBlueOutlined\";\r\nimport ButtonBlue from \"./ButtonBlue\";\r\n\r\n\r\nconst UserModal = (props) => {\r\n\r\n    const { show, handleClose, handleShow, handleChanges, nameClose, nameOpen } = props\r\n\r\n    return (\r\n        <div>\r\n            <Modal centered show={show} onHide={handleClose}>\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>{props.title}</Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body>{props.text}</Modal.Body>\r\n                <Modal.Footer>\r\n                    <ButtonBlueOutlined onClick={handleClose} name={nameClose}>\r\n                    </ButtonBlueOutlined>\r\n                    <ButtonBlue onClick={handleChanges} name={nameOpen} size='sml'>\r\n                    </ButtonBlue>\r\n                </Modal.Footer>\r\n            </Modal>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default UserModal","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { createTheme, ThemeProvider } from '@mui/material/styles';\r\nimport { CustomContext } from '../../context/Context';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport PageHeader from '../elements/PageHeader'\r\nimport ProfileBanner from '../../images/profile-banner.png'\r\nimport {\r\n    MDBCol,\r\n    MDBContainer,\r\n    MDBRow,\r\n    MDBCard,\r\n    MDBCardText,\r\n    MDBCardBody,\r\n    MDBCardImage,\r\n} from 'mdb-react-ui-kit';\r\nimport ButtonBlue from \"../elements/ButtonBlue\";\r\nimport ButtonBlueOutlined from \"../elements/ButtonBlueOutlined\";\r\nimport CssBaseline from '@mui/material/CssBaseline';\r\nimport TextField from '@mui/material/TextField';\r\nimport Grid from '@mui/material/Grid';\r\nimport Box from '@mui/material/Box';\r\nimport Container from '@mui/material/Container';\r\nimport axios from 'axios';\r\nimport UserModal from \"../elements/Modal\";\r\nimport Alert from 'react-bootstrap/Alert';\r\nimport Card from 'react-bootstrap/Card';\r\nimport InputLabel from '@mui/material/InputLabel';\r\nimport MenuItem from '@mui/material/MenuItem';\r\nimport Select from '@mui/material/Select';\r\nimport FormControl from '@mui/material/FormControl';\r\nimport Loading from \"../elements/Loading\";\r\n\r\n\r\n\r\nconst theme = createTheme();\r\n\r\nexport default function DoctorProfile() {\r\n\r\n    const FileRef = React.useRef()\r\n    const navigate = useNavigate()\r\n\r\n    //use state for getting user info and user from local storage\r\n    const { user, setUser } = useContext(CustomContext)\r\n    const { currentUserInfo, setCurrentUserInfo } = useContext(CustomContext)\r\n\r\n    //usestate for edit toggle button\r\n    const [isOpen, setOpen] = React.useState(false);\r\n    //when edit button is clicked, the update form will appear\r\n    const handleToggle = () => {\r\n        setOpen(!isOpen);\r\n    };\r\n\r\n    //usestate for modal\r\n    const [show, setShow] = useState(false);\r\n    //closing and opening modal functions\r\n    const handleClose = () => setShow(false);\r\n    const handleShow = () => setShow(true);\r\n\r\n    //when modal delete button is clicked, it will delete the user profile data \r\n    const handleChanges = async (event) => {\r\n        event.preventDefault();\r\n\r\n        try {\r\n            await axios.delete(`https://www.nz-vet-locum.online/doctors/delete/${user._id}`);\r\n            localStorage.clear(); //clear user data on sign-out \r\n            setCurrentUserInfo({})\r\n            navigate('/')\r\n            window.location.reload()\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    };\r\n\r\n    //check if there's user data on page load\r\n    useEffect(() => {\r\n        //getting user's data from local storage\r\n        const user = JSON.parse(localStorage.getItem('user'));\r\n        if (user) {\r\n            setUser(user);\r\n\r\n            //getting current user's data based on the id stored in local storage\r\n            const getUserById = async () => {\r\n                const res = await axios.get(`https://www.nz-vet-locum.online/doctors/search/${user._id}`);\r\n                setCurrentUserInfo(res.data.currentUserInfo[0])\r\n                console.log(res.data.currentUserInfo[0])\r\n            };\r\n            getUserById()\r\n        }\r\n\r\n    }, []);\r\n\r\n\r\n    const [error, setError] = useState(null)\r\n    const [uploading, setUploading] = useState(false)\r\n\r\n\r\n    const handleSubmit = (event) => {\r\n        event.preventDefault();\r\n\r\n        setError(null)\r\n        setUploading(true)\r\n\r\n        const data = new FormData(event.currentTarget);\r\n\r\n\r\n        const first_name = data.get('first_name') == null ? currentUserInfo.first_name : data.get('first_name');\r\n        const last_name = data.get('last_name') == null ? currentUserInfo.last_name : data.get('last_name');\r\n        const email = data.get('email') == null ? currentUserInfo.email : data.get('email');\r\n        const password = data.get('password') == null ? currentUserInfo.password : data.get('password');\r\n        const specialities = data.get('specialities') == null ? currentUserInfo.specialities : data.get('specialities');\r\n        const phone = data.get('phone') == null ? currentUserInfo.phone : data.get('phone');\r\n        const city = data.get('city') == null ? currentUserInfo.city : data.get('city');\r\n        const license = data.get('license') == null ? currentUserInfo.license : data.get('license');\r\n        const availability = data.get('availability') == null ? currentUserInfo.availability : data.get('availability');\r\n        const work_requirement = data.get('work_requirement') == null ? currentUserInfo.work_requirement : data.get('work_requirement');\r\n        const imageKey = FileRef.current.files[0] == null ? currentUserInfo.imageKey : FileRef.current.files[0];\r\n\r\n\r\n        const toSend = new FormData()\r\n        toSend.append('first_name', first_name)\r\n        toSend.append('last_name', last_name)\r\n        toSend.append('email', email)\r\n        toSend.append('password', password)\r\n        toSend.append('specialities', specialities)\r\n        toSend.append('phone', phone)\r\n        toSend.append('city', city)\r\n        toSend.append('license', license)\r\n        toSend.append('availability', availability)\r\n        toSend.append('work_requirement', work_requirement)\r\n        toSend.append('imageKey', imageKey)\r\n\r\n        try {\r\n            fetch(`https://www.nz-vet-locum.online/doctors/update/${user._id}`, {\r\n                method: \"POST\",\r\n                body: toSend\r\n            }).then(() => {\r\n                window.location.reload()\r\n            }).catch((error) => setError(error))\r\n        } catch (error) {\r\n            console.log(error.msg)\r\n            setUploading(false)\r\n        }\r\n    };\r\n\r\n\r\n    //when uploading image show the uploading animation\r\n    if (uploading === true) {\r\n        return <>\r\n            <Loading />\r\n        </>\r\n    }\r\n    // if there's a user but the get current info hasn't loaded yet then show loading screen\r\n    if (user && !currentUserInfo) {\r\n        return <>\r\n            <Loading />\r\n        </>\r\n    }\r\n    // if there's a user and user's info, show their profile\r\n    if (user && currentUserInfo) {\r\n        return <>\r\n            <PageHeader maoriTitle=\"Tō Kōtaha\" englishTitle=\"Your Profile\" background={ProfileBanner} />\r\n            <section>\r\n                <MDBContainer className=\"py-5\">\r\n\r\n                    <MDBRow>\r\n                        <MDBCol lg=\"4\">\r\n                            <MDBCard className=\"mb-4\">\r\n                                <MDBCardBody className=\"text-center\">\r\n                                    <MDBCardImage\r\n                                        src={`https://www.nz-vet-locum.online/images/${currentUserInfo.imageKey}`}\r\n                                        alt=\"avatar\"\r\n                                        className=\"rounded\"\r\n                                        style={{ width: '200px', height: '200px', objectFit: 'cover' }}\r\n                                        fluid />\r\n                                    <br></br>\r\n                                    <br></br>\r\n                                    <h3>Dr. {currentUserInfo.first_name} {currentUserInfo.last_name}</h3>\r\n                                    <p className=\"text-muted mb-4\">{currentUserInfo.city}, New Zealand</p>\r\n\r\n                                </MDBCardBody>\r\n                            </MDBCard>\r\n\r\n\r\n                        </MDBCol>\r\n                        <MDBCol lg=\"8\">\r\n                            <MDBCard className=\"mb-4\">\r\n                                <MDBCardBody>\r\n                                    <MDBRow>\r\n                                        <MDBCol sm=\"3\">\r\n                                            <MDBCardText>Full Name</MDBCardText>\r\n                                        </MDBCol>\r\n                                        <MDBCol sm=\"9\">\r\n                                            <MDBCardText className=\"text-muted\">{currentUserInfo.first_name} {currentUserInfo.last_name}</MDBCardText>\r\n                                        </MDBCol>\r\n                                    </MDBRow>\r\n                                    <hr />\r\n                                    <MDBRow>\r\n                                        <MDBCol sm=\"3\">\r\n                                            <MDBCardText>Email</MDBCardText>\r\n                                        </MDBCol>\r\n                                        <MDBCol sm=\"9\">\r\n                                            <MDBCardText className=\"text-muted\">{currentUserInfo.email}</MDBCardText>\r\n                                        </MDBCol>\r\n                                    </MDBRow>\r\n                                    <hr />\r\n                                    <MDBRow>\r\n                                        <MDBCol sm=\"3\">\r\n                                            <MDBCardText>Phone</MDBCardText>\r\n                                        </MDBCol>\r\n                                        <MDBCol sm=\"9\">\r\n                                            <MDBCardText className=\"text-muted\">{currentUserInfo.phone}</MDBCardText>\r\n                                        </MDBCol>\r\n                                    </MDBRow>\r\n                                    <hr />\r\n                                    <MDBRow>\r\n                                        <MDBCol sm=\"3\">\r\n                                            <MDBCardText>Specialities</MDBCardText>\r\n                                        </MDBCol>\r\n                                        <MDBCol sm=\"9\">\r\n                                            <MDBCardText className=\"text-muted\">{currentUserInfo.specialities}</MDBCardText>\r\n                                        </MDBCol>\r\n                                    </MDBRow>\r\n                                    <hr />\r\n                                    <MDBRow>\r\n                                        <MDBCol sm=\"3\">\r\n                                            <MDBCardText>License</MDBCardText>\r\n                                        </MDBCol>\r\n                                        <MDBCol sm=\"9\">\r\n                                            <MDBCardText className=\"text-muted\">{currentUserInfo.license}</MDBCardText>\r\n                                        </MDBCol>\r\n                                    </MDBRow>\r\n                                    <hr />\r\n                                    <MDBRow>\r\n                                        <MDBCol sm=\"3\">\r\n                                            <MDBCardText>Availability</MDBCardText>\r\n                                        </MDBCol>\r\n                                        <MDBCol sm=\"9\">\r\n                                            <MDBCardText className=\"text-muted\">{currentUserInfo.availability}</MDBCardText>\r\n                                        </MDBCol>\r\n                                    </MDBRow>\r\n                                    <hr />\r\n                                    <MDBRow>\r\n                                        <MDBCol sm=\"3\">\r\n                                            <MDBCardText>Work Requirement</MDBCardText>\r\n                                        </MDBCol>\r\n                                        <MDBCol sm=\"9\">\r\n                                            <MDBCardText className=\"text-muted\">{currentUserInfo.work_requirement}</MDBCardText>\r\n                                        </MDBCol>\r\n                                    </MDBRow>\r\n                                </MDBCardBody>\r\n                            </MDBCard>\r\n                            <ButtonBlue name=\"Edit Details\" style={{ marginRight: 30 }} onClick={handleToggle} size='sml'></ButtonBlue>\r\n                            <ButtonBlueOutlined name=\"Delete Profile\" style={{ marginRight: 30 }} onClick={() => handleShow()} size='sml'></ButtonBlueOutlined>\r\n\r\n\r\n                            {/* modal for user deletion*/}\r\n                            <UserModal show={show} handleClose={handleClose} handleShow={handleShow} handleChanges={handleChanges} nameClose='Cancel' nameOpen='Delete Profile'\r\n                                title='We are sad to see you go! 😔' text='Are you sure you want to delete your profile? You can not undo this action' />\r\n\r\n\r\n                        </MDBCol>\r\n                    </MDBRow>\r\n                </MDBContainer>\r\n\r\n                {/* form will show when the edit button is clicked */}\r\n\r\n                {isOpen &&\r\n\r\n                    <ThemeProvider theme={theme}>\r\n                        <Container component=\"main\">\r\n                            <CssBaseline />\r\n                            <Box\r\n                                sx={{\r\n                                    marginTop: 8,\r\n                                    display: 'flex',\r\n                                    flexDirection: 'column',\r\n                                    alignItems: 'left',\r\n                                    textAlign: 'left'\r\n                                }}\r\n                            >\r\n\r\n                                <h3>Edit Your Details</h3>\r\n                                <Box component=\"form\" noValidate onSubmit={handleSubmit} sx={{ mt: 3 }}>\r\n\r\n                                    {error ? <h1>{error.toString()}</h1> : null}\r\n\r\n\r\n                                    <Grid container spacing={2}>\r\n\r\n                                        <Grid item xs={12}>\r\n                                            <Card>\r\n                                                <div id='cards'>\r\n                                                    <input ref={FileRef} type=\"file\" />\r\n                                                    <div className=\"small text-muted mt-2\">Upload your profile picture. Max file size 1 MB</div>\r\n                                                </div>\r\n                                            </Card>\r\n                                        </Grid>\r\n                                        <br></br>\r\n\r\n                                        <Grid item xs={12} sm={6}>\r\n                                            <TextField\r\n                                                autoComplete=\"first_name\"\r\n                                                name=\"first_name\"\r\n                                                fullWidth\r\n                                                id=\"first_name\"\r\n                                                label=\"First Name\"\r\n                                                autoFocus\r\n                                                defaultValue={currentUserInfo.first_name}\r\n                                            />\r\n                                        </Grid>\r\n                                        <Grid item xs={12} sm={6}>\r\n                                            <TextField\r\n                                                fullWidth\r\n                                                id=\"last_name\"\r\n                                                label=\"Last Name\"\r\n                                                name=\"last_name\"\r\n                                                autoComplete=\"family-name\"\r\n                                                defaultValue={currentUserInfo.last_name}\r\n                                            />\r\n                                        </Grid>\r\n                                        <Grid item xs={12}>\r\n                                            <TextField\r\n                                                fullWidth\r\n                                                id=\"email\"\r\n                                                label=\"Email Address\"\r\n                                                name=\"email\"\r\n                                                autoComplete=\"email\"\r\n                                                defaultValue={currentUserInfo.email}\r\n                                            />\r\n                                        </Grid>\r\n                                        <Grid item xs={12}>\r\n                                            <TextField\r\n                                                fullWidth\r\n                                                name=\"password\"\r\n                                                label=\"Password\"\r\n                                                type=\"password\"\r\n                                                id=\"password\"\r\n                                                autoComplete=\"new-password\"\r\n                                                placeholder={'Your password'}\r\n                                            />\r\n                                        </Grid>\r\n                                        <Grid item xs={12}>\r\n                                            <TextField\r\n                                                fullWidth\r\n                                                name=\"phone\"\r\n                                                label=\"Phone\"\r\n                                                type=\"number\"\r\n                                                id=\"phone\"\r\n                                                autoComplete=\"new-phone\"\r\n                                                defaultValue={currentUserInfo.phone}\r\n                                            />\r\n                                        </Grid>\r\n                                        <Grid item xs={12} sm={6}>\r\n                                            <FormControl fullWidth>\r\n                                                <InputLabel id=\"city\">City*</InputLabel>\r\n                                                <Select\r\n                                                    labelId=\"city\"\r\n                                                    id=\"city\"\r\n                                                    name=\"city\"\r\n                                                    label=\"City\"\r\n                                                    required\r\n                                                    defaultValue={currentUserInfo.city}\r\n                                                >\r\n                                                    <MenuItem value={'Northland'}>Northland</MenuItem>\r\n                                                    <MenuItem value={'Auckland'}>Auckland</MenuItem>\r\n                                                    <MenuItem value={'Wellington'}>Wellington</MenuItem>\r\n                                                    <MenuItem value={'Dunedin'}>Dunedin</MenuItem>\r\n                                                    <MenuItem value={'Christchurch'}>Christchurch</MenuItem>\r\n                                                    <MenuItem value={'Queenstown'}>Queenstown</MenuItem>\r\n                                                </Select>\r\n                                            </FormControl>\r\n                                        </Grid>\r\n                                        <Grid item xs={12} sm={6}>\r\n                                            <TextField\r\n                                                fullWidth\r\n                                                name=\"license\"\r\n                                                label=\"License\"\r\n                                                type=\"text\"\r\n                                                id=\"license\"\r\n                                                autoComplete=\"new-license\"\r\n                                                defaultValue={currentUserInfo.license}\r\n                                            />\r\n                                        </Grid>\r\n                                        <Grid item xs={12}>\r\n                                            <TextField\r\n                                                fullWidth\r\n                                                name=\"specialities\"\r\n                                                label=\"Specialities\"\r\n                                                type=\"text\"\r\n                                                id=\"specialities\"\r\n                                                autoComplete=\"specialities\"\r\n                                                multiline\r\n                                                rows={2}\r\n                                                defaultValue={currentUserInfo.specialities}\r\n                                            />\r\n                                        </Grid>\r\n                                        <Grid item xs={12}>\r\n                                            <TextField\r\n                                                fullWidth\r\n                                                name=\"availability\"\r\n                                                label=\"Availability\"\r\n                                                type=\"text\"\r\n                                                id=\"availability\"\r\n                                                autoComplete=\"availability\"\r\n                                                multiline\r\n                                                rows={2}\r\n                                                defaultValue={currentUserInfo.availability}\r\n                                            />\r\n                                        </Grid>\r\n                                        <Grid item xs={12}>\r\n                                            <TextField\r\n                                                fullWidth\r\n                                                name=\"work_requirement\"\r\n                                                label=\"Work Requirement\"\r\n                                                type=\"text\"\r\n                                                id=\"work_requirement\"\r\n                                                autoComplete=\"work_requirement\"\r\n                                                placeholder='Please book 2 weeks in advance'\r\n                                                multiline\r\n                                                rows={2}\r\n                                                defaultValue={currentUserInfo.work_requirement}\r\n                                            />\r\n                                        </Grid>\r\n                                        <Grid item xs={12}>\r\n                                            <ButtonBlue name=\"Save Changes\" type=\"submit\" style={{ marginBottom: 50 }} size='sml'></ButtonBlue>\r\n                                        </Grid>\r\n                                    </Grid>\r\n                                </Box>\r\n                            </Box>\r\n                        </Container>\r\n                    </ThemeProvider>\r\n\r\n                }\r\n\r\n\r\n            </section>\r\n\r\n\r\n\r\n\r\n        </>\r\n    }\r\n\r\n    // if there's no user, show the login form\r\n    return (\r\n        <div id='card-page'>\r\n            <br></br>\r\n            <br></br>\r\n            <Alert id='cards'>Please sign in</Alert>\r\n        </div>\r\n    );\r\n\r\n}\r\n\r\n\r\n"],"names":["props","show","handleClose","handleChanges","handleShow","nameClose","nameOpen","centered","onHide","closeButton","title","text","onClick","name","size","theme","createTheme","DoctorProfile","FileRef","React","navigate","useNavigate","useContext","CustomContext","user","setUser","currentUserInfo","setCurrentUserInfo","isOpen","setOpen","useState","setShow","event","preventDefault","axios","_id","localStorage","clear","window","location","reload","console","log","useEffect","JSON","parse","getItem","getUserById","res","data","error","setError","uploading","setUploading","maoriTitle","englishTitle","background","ProfileBanner","className","lg","src","imageKey","alt","style","width","height","objectFit","fluid","first_name","last_name","city","sm","email","phone","specialities","license","availability","work_requirement","marginRight","component","sx","marginTop","display","flexDirection","alignItems","textAlign","noValidate","onSubmit","FormData","currentTarget","get","password","current","files","toSend","append","fetch","method","body","then","catch","msg","mt","toString","container","spacing","item","xs","id","ref","type","autoComplete","fullWidth","label","autoFocus","defaultValue","placeholder","labelId","required","value","multiline","rows","marginBottom"],"sourceRoot":""}
"use strict";(self.webpackChunknz_vet_locum_network=self.webpackChunknz_vet_locum_network||[]).push([[372],{1723:function(e,t,s){s(2791);var l=s(9653),n=s(7052),i=s(930),a=s(184);t.Z=function(e){var t=e.show,s=e.handleClose,r=(e.handleShow,e.handleChanges),c=e.nameClose,d=e.nameOpen;return(0,a.jsx)("div",{children:(0,a.jsxs)(l.Z,{centered:!0,show:t,onHide:s,children:[(0,a.jsx)(l.Z.Header,{closeButton:!0,children:(0,a.jsx)(l.Z.Title,{children:e.title})}),(0,a.jsx)(l.Z.Body,{children:e.text}),(0,a.jsxs)(l.Z.Footer,{children:[(0,a.jsx)(n.Z,{onClick:s,name:c}),(0,a.jsx)(i.Z,{onClick:r,name:d,size:"sml"})]})]})})}},5372:function(e,t,s){s.r(t),s.d(t,{default:function(){return S}});var l=s(4165),n=s(5861),i=s(9439),a=s(2791),r=s(7107),c=s(7012),d=s(2187),o=s(7689),u=s(6983),m=s(5474),h=s(8804),x=s(930),p=s(7052),j=s(4708),f=s(7391),Z=s(1889),g=s(4554),b=s(1614),w=s(2388),y=s(1723),v=s(1054),P=s(2144),k=s(4925),_=s(9891),C=s(9694),T=s(8096),N=s(317),K=s(184),q=(0,r.Z)();function S(){var e=a.useRef(),t=(0,o.s0)(),s=(0,a.useContext)(d.D),r=s.user,S=s.setUser,W=(0,a.useContext)(d.D),D=W.currentUserInfo,z=W.setCurrentUserInfo,V=a.useState(!1),F=(0,i.Z)(V,2),A=F[0],I=F[1],U=(0,a.useState)(!1),Y=(0,i.Z)(U,2),E=Y[0],H=Y[1],R=function(){return H(!0)},B=function(){var e=(0,n.Z)((0,l.Z)().mark((function e(s){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.preventDefault(),e.prev=1,e.next=4,w.Z.delete("http://nzlocumnetwork-env.eba-beqbmmm3.us-east-1.elasticbeanstalk.com/doctors/delete/".concat(r._id));case 4:localStorage.clear(),z({}),t("/"),window.location.reload(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();(0,a.useEffect)((function(){var e=JSON.parse(localStorage.getItem("user"));if(e){S(e);var t=function(){var t=(0,n.Z)((0,l.Z)().mark((function t(){var s;return(0,l.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.Z.get("http://nzlocumnetwork-env.eba-beqbmmm3.us-east-1.elasticbeanstalk.com/doctors/search/".concat(e._id));case 2:s=t.sent,z(s.data.currentUserInfo[0]),console.log(s.data.currentUserInfo[0]);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}}),[]);var L=(0,a.useState)(null),O=(0,i.Z)(L,2),M=O[0],Q=O[1],J=(0,a.useState)(!1),G=(0,i.Z)(J,2),X=G[0],$=G[1];return!0===X||r&&!D?(0,K.jsx)(K.Fragment,{children:(0,K.jsx)(N.Z,{})}):r&&D?(0,K.jsxs)(K.Fragment,{children:[(0,K.jsx)(u.Z,{maoriTitle:"T\u014d K\u014dtaha",englishTitle:"Your Profile",background:m}),(0,K.jsxs)("section",{children:[(0,K.jsx)(h.L5,{className:"py-5",children:(0,K.jsxs)(h.uZ,{children:[(0,K.jsx)(h.TK,{lg:"4",children:(0,K.jsx)(h.Yl,{className:"mb-4",children:(0,K.jsxs)(h.H7,{className:"text-center",children:[(0,K.jsx)(h.PH,{src:"http://nzlocumnetwork-env.eba-beqbmmm3.us-east-1.elasticbeanstalk.com/images/".concat(D.imageKey),alt:"avatar",className:"rounded",style:{width:"200px",height:"200px",objectFit:"cover"},fluid:!0}),(0,K.jsx)("br",{}),(0,K.jsx)("br",{}),(0,K.jsxs)("h3",{children:["Dr. ",D.first_name," ",D.last_name]}),(0,K.jsxs)("p",{className:"text-muted mb-4",children:[D.city,", New Zealand"]})]})})}),(0,K.jsxs)(h.TK,{lg:"8",children:[(0,K.jsx)(h.Yl,{className:"mb-4",children:(0,K.jsxs)(h.H7,{children:[(0,K.jsxs)(h.uZ,{children:[(0,K.jsx)(h.TK,{sm:"3",children:(0,K.jsx)(h.Pp,{children:"Full Name"})}),(0,K.jsx)(h.TK,{sm:"9",children:(0,K.jsxs)(h.Pp,{className:"text-muted",children:[D.first_name," ",D.last_name]})})]}),(0,K.jsx)("hr",{}),(0,K.jsxs)(h.uZ,{children:[(0,K.jsx)(h.TK,{sm:"3",children:(0,K.jsx)(h.Pp,{children:"Email"})}),(0,K.jsx)(h.TK,{sm:"9",children:(0,K.jsx)(h.Pp,{className:"text-muted",children:D.email})})]}),(0,K.jsx)("hr",{}),(0,K.jsxs)(h.uZ,{children:[(0,K.jsx)(h.TK,{sm:"3",children:(0,K.jsx)(h.Pp,{children:"Phone"})}),(0,K.jsx)(h.TK,{sm:"9",children:(0,K.jsx)(h.Pp,{className:"text-muted",children:D.phone})})]}),(0,K.jsx)("hr",{}),(0,K.jsxs)(h.uZ,{children:[(0,K.jsx)(h.TK,{sm:"3",children:(0,K.jsx)(h.Pp,{children:"Specialities"})}),(0,K.jsx)(h.TK,{sm:"9",children:(0,K.jsx)(h.Pp,{className:"text-muted",children:D.specialities})})]}),(0,K.jsx)("hr",{}),(0,K.jsxs)(h.uZ,{children:[(0,K.jsx)(h.TK,{sm:"3",children:(0,K.jsx)(h.Pp,{children:"License"})}),(0,K.jsx)(h.TK,{sm:"9",children:(0,K.jsx)(h.Pp,{className:"text-muted",children:D.license})})]}),(0,K.jsx)("hr",{}),(0,K.jsxs)(h.uZ,{children:[(0,K.jsx)(h.TK,{sm:"3",children:(0,K.jsx)(h.Pp,{children:"Availability"})}),(0,K.jsx)(h.TK,{sm:"9",children:(0,K.jsx)(h.Pp,{className:"text-muted",children:D.availability})})]}),(0,K.jsx)("hr",{}),(0,K.jsxs)(h.uZ,{children:[(0,K.jsx)(h.TK,{sm:"3",children:(0,K.jsx)(h.Pp,{children:"Work Requirement"})}),(0,K.jsx)(h.TK,{sm:"9",children:(0,K.jsx)(h.Pp,{className:"text-muted",children:D.work_requirement})})]})]})}),(0,K.jsx)(x.Z,{name:"Edit Details",style:{marginRight:30},onClick:function(){I(!A)},size:"sml"}),(0,K.jsx)(p.Z,{name:"Delete Profile",style:{marginRight:30},onClick:function(){return R()},size:"sml"}),(0,K.jsx)(y.Z,{show:E,handleClose:function(){return H(!1)},handleShow:R,handleChanges:B,nameClose:"Cancel",nameOpen:"Delete Profile",title:"We are sad to see you go! \ud83d\ude14",text:"Are you sure you want to delete your profile? You can not undo this action"})]})]})}),A&&(0,K.jsx)(c.Z,{theme:q,children:(0,K.jsxs)(b.Z,{component:"main",children:[(0,K.jsx)(j.ZP,{}),(0,K.jsxs)(g.Z,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"left",textAlign:"left"},children:[(0,K.jsx)("h3",{children:"Edit Your Details"}),(0,K.jsxs)(g.Z,{component:"form",noValidate:!0,onSubmit:function(t){t.preventDefault(),Q(null),$(!0);var s=new FormData(t.currentTarget),l=null==s.get("first_name")?D.first_name:s.get("first_name"),n=null==s.get("last_name")?D.last_name:s.get("last_name"),i=null==s.get("email")?D.email:s.get("email"),a=null==s.get("password")?D.password:s.get("password"),c=null==s.get("specialities")?D.specialities:s.get("specialities"),d=null==s.get("phone")?D.phone:s.get("phone"),o=null==s.get("city")?D.city:s.get("city"),u=null==s.get("license")?D.license:s.get("license"),m=null==s.get("availability")?D.availability:s.get("availability"),h=null==s.get("work_requirement")?D.work_requirement:s.get("work_requirement"),x=null==e.current.files[0]?D.imageKey:e.current.files[0],p=new FormData;p.append("first_name",l),p.append("last_name",n),p.append("email",i),p.append("password",a),p.append("specialities",c),p.append("phone",d),p.append("city",o),p.append("license",u),p.append("availability",m),p.append("work_requirement",h),p.append("imageKey",x);try{fetch("http://nzlocumnetwork-env.eba-beqbmmm3.us-east-1.elasticbeanstalk.com/doctors/update/".concat(r._id),{method:"POST",body:p}).then((function(){window.location.reload()})).catch((function(e){return Q(e)}))}catch(M){console.log(M.msg),$(!1)}},sx:{mt:3},children:[M?(0,K.jsx)("h1",{children:M.toString()}):null,(0,K.jsxs)(Z.ZP,{container:!0,spacing:2,children:[(0,K.jsx)(Z.ZP,{item:!0,xs:12,children:(0,K.jsx)(P.Z,{children:(0,K.jsxs)("div",{id:"cards",children:[(0,K.jsx)("input",{ref:e,type:"file"}),(0,K.jsx)("div",{className:"small text-muted mt-2",children:"Upload your profile picture. Max file size 5 MB"})]})})}),(0,K.jsx)("br",{}),(0,K.jsx)(Z.ZP,{item:!0,xs:12,sm:6,children:(0,K.jsx)(f.Z,{autoComplete:"first_name",name:"first_name",fullWidth:!0,id:"first_name",label:"First Name",autoFocus:!0,defaultValue:D.first_name})}),(0,K.jsx)(Z.ZP,{item:!0,xs:12,sm:6,children:(0,K.jsx)(f.Z,{fullWidth:!0,id:"last_name",label:"Last Name",name:"last_name",autoComplete:"family-name",defaultValue:D.last_name})}),(0,K.jsx)(Z.ZP,{item:!0,xs:12,children:(0,K.jsx)(f.Z,{fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",defaultValue:D.email})}),(0,K.jsx)(Z.ZP,{item:!0,xs:12,children:(0,K.jsx)(f.Z,{fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"new-password",placeholder:"Your password"})}),(0,K.jsx)(Z.ZP,{item:!0,xs:12,children:(0,K.jsx)(f.Z,{fullWidth:!0,name:"phone",label:"Phone",type:"number",id:"phone",autoComplete:"new-phone",defaultValue:D.phone})}),(0,K.jsx)(Z.ZP,{item:!0,xs:12,sm:6,children:(0,K.jsxs)(T.Z,{fullWidth:!0,children:[(0,K.jsx)(k.Z,{id:"city",children:"City*"}),(0,K.jsxs)(C.Z,{labelId:"city",id:"city",name:"city",label:"City",required:!0,defaultValue:D.city,children:[(0,K.jsx)(_.Z,{value:"Northland",children:"Northland"}),(0,K.jsx)(_.Z,{value:"Auckland",children:"Auckland"}),(0,K.jsx)(_.Z,{value:"Wellington",children:"Wellington"}),(0,K.jsx)(_.Z,{value:"Dunedin",children:"Dunedin"}),(0,K.jsx)(_.Z,{value:"Christchurch",children:"Christchurch"}),(0,K.jsx)(_.Z,{value:"Queenstown",children:"Queenstown"})]})]})}),(0,K.jsx)(Z.ZP,{item:!0,xs:12,sm:6,children:(0,K.jsx)(f.Z,{fullWidth:!0,name:"license",label:"License",type:"text",id:"license",autoComplete:"new-license",defaultValue:D.license})}),(0,K.jsx)(Z.ZP,{item:!0,xs:12,children:(0,K.jsx)(f.Z,{fullWidth:!0,name:"specialities",label:"Specialities",type:"text",id:"specialities",autoComplete:"specialities",multiline:!0,rows:2,defaultValue:D.specialities})}),(0,K.jsx)(Z.ZP,{item:!0,xs:12,children:(0,K.jsx)(f.Z,{fullWidth:!0,name:"availability",label:"Availability",type:"text",id:"availability",autoComplete:"availability",multiline:!0,rows:2,defaultValue:D.availability})}),(0,K.jsx)(Z.ZP,{item:!0,xs:12,children:(0,K.jsx)(f.Z,{fullWidth:!0,name:"work_requirement",label:"Work Requirement",type:"text",id:"work_requirement",autoComplete:"work_requirement",placeholder:"Please book 2 weeks in advance",multiline:!0,rows:2,defaultValue:D.work_requirement})}),(0,K.jsx)(Z.ZP,{item:!0,xs:12,children:(0,K.jsx)(x.Z,{name:"Save Changes",type:"submit",style:{marginBottom:50},size:"sml"})})]})]})]})]})})]})]}):(0,K.jsxs)("div",{id:"card-page",children:[(0,K.jsx)("br",{}),(0,K.jsx)("br",{}),(0,K.jsx)(v.Z,{id:"cards",children:"Please sign in"})]})}},5474:function(e,t,s){e.exports=s.p+"static/media/profile-banner.09afd368db2ea3a3d6ff.png"}}]);
//# sourceMappingURL=372.002854b0.chunk.js.map